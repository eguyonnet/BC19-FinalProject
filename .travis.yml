language: node_js
node_js:
  - "10"

before_script:
  - npm install -g ganache-cli
  - npm install -g truffle@5.0.0
  - npm install -g zos
  - npm install -g openzeppelin-eth
  #- npm install -g openzeppelin-solidity

script:
  # delete provided testing files
  #- rm ./test/professional_offices.test.js
  #- rm ./test/unit_factory.test.js
  #- rm ./test/unit.test.js
  # get the official testing file and move into test dir
  #- git clone https://github.com/eguyonnet/BC19-FinalProject.git 
  #- mv ./e9ec0d8d6c53b56ca9673cfa139b5644/eventTickets.test.js ./test/eventTickets.test.js

  #- zos init
  - zos link openzeppelin-eth
  - ganache-cli &
  - sleep 5
  - zos push --deploy-dependencies --network development
  - truffle test
